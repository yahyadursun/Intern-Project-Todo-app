{"ast":null,"code":"import axios from 'axios';\nimport { getCurrentUser } from './authService';\nconst API_URL = 'http://localhost:3000/todo';\nconst authHeader = () => {\n  const user = getCurrentUser();\n  if (user && user.accessToken) {\n    return {\n      Authorization: 'Bearer ' + user.accessToken\n    };\n  } else {\n    return {};\n  }\n};\nexport const addOrUpdateTodo = async todo => {\n  return axios.post(API_URL, todo, {\n    headers: authHeader()\n  });\n};\nexport const getTodos = async () => {\n  return axios.get(API_URL, {\n    headers: authHeader()\n  });\n};\nexport const deleteTodo = async (id, userId) => {\n  return axios.delete(`${API_URL}/${id}`, {\n    headers: authHeader(),\n    data: {\n      userId\n    }\n  });\n};","map":{"version":3,"names":["axios","getCurrentUser","API_URL","authHeader","user","accessToken","Authorization","addOrUpdateTodo","todo","post","headers","getTodos","get","deleteTodo","id","userId","delete","data"],"sources":["C:/Users/yahya/OneDrive/Masaüstü/Intern-Project-Todo-app/frontend/src/components/services/todoService.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { getCurrentUser } from './authService';\r\n\r\nconst API_URL = 'http://localhost:3000/todo';\r\n\r\nconst authHeader = () => {\r\n  const user = getCurrentUser();\r\n  if (user && user.accessToken) {\r\n    return { Authorization: 'Bearer ' + user.accessToken };\r\n  } else {\r\n    return {};\r\n  }\r\n};\r\n\r\nexport const addOrUpdateTodo = async (todo: { id?: string, text: string, isCompleted: boolean, userId: string }) => {\r\n  return axios.post(API_URL, todo, { headers: authHeader() });\r\n};\r\n\r\nexport const getTodos = async () => {\r\n  return axios.get(API_URL, { headers: authHeader() });\r\n};\r\n\r\nexport const deleteTodo = async (id: string, userId: string) => {\r\n  return axios.delete(`${API_URL}/${id}`, { headers: authHeader(), data: { userId } });\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,eAAe;AAE9C,MAAMC,OAAO,GAAG,4BAA4B;AAE5C,MAAMC,UAAU,GAAGA,CAAA,KAAM;EACvB,MAAMC,IAAI,GAAGH,cAAc,CAAC,CAAC;EAC7B,IAAIG,IAAI,IAAIA,IAAI,CAACC,WAAW,EAAE;IAC5B,OAAO;MAAEC,aAAa,EAAE,SAAS,GAAGF,IAAI,CAACC;IAAY,CAAC;EACxD,CAAC,MAAM;IACL,OAAO,CAAC,CAAC;EACX;AACF,CAAC;AAED,OAAO,MAAME,eAAe,GAAG,MAAOC,IAAyE,IAAK;EAClH,OAAOR,KAAK,CAACS,IAAI,CAACP,OAAO,EAAEM,IAAI,EAAE;IAAEE,OAAO,EAAEP,UAAU,CAAC;EAAE,CAAC,CAAC;AAC7D,CAAC;AAED,OAAO,MAAMQ,QAAQ,GAAG,MAAAA,CAAA,KAAY;EAClC,OAAOX,KAAK,CAACY,GAAG,CAACV,OAAO,EAAE;IAAEQ,OAAO,EAAEP,UAAU,CAAC;EAAE,CAAC,CAAC;AACtD,CAAC;AAED,OAAO,MAAMU,UAAU,GAAG,MAAAA,CAAOC,EAAU,EAAEC,MAAc,KAAK;EAC9D,OAAOf,KAAK,CAACgB,MAAM,CAAC,GAAGd,OAAO,IAAIY,EAAE,EAAE,EAAE;IAAEJ,OAAO,EAAEP,UAAU,CAAC,CAAC;IAAEc,IAAI,EAAE;MAAEF;IAAO;EAAE,CAAC,CAAC;AACtF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}