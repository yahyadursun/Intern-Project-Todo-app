{"ast":null,"code":"import axios from 'axios';\nimport { getCurrentUser } from './authService';\nconst API_URL = 'http://localhost:3000/todo';\nconst authHeader = () => {\n  const user = getCurrentUser();\n  if (user && user.accessToken) {\n    return {\n      Authorization: 'Bearer ' + user.accessToken\n    };\n  } else {\n    return {};\n  }\n};\nexport const createTodo = async todo => {\n  return axios.post(API_URL, todo, {\n    headers: authHeader()\n  });\n};\nexport const getTodos = async userId => {\n  return axios.get(`${API_URL}?userId=${userId}`, {\n    headers: authHeader()\n  });\n};\nexport const updateTodo = async (id, todo) => {\n  return axios.put(`${API_URL}/${id}`, todo, {\n    headers: authHeader()\n  });\n};\nexport const deleteTodo = async (id, userId) => {\n  return axios.delete(`${API_URL}/${id}?userId=${userId}`, {\n    headers: authHeader()\n  });\n};","map":{"version":3,"names":["axios","getCurrentUser","API_URL","authHeader","user","accessToken","Authorization","createTodo","todo","post","headers","getTodos","userId","get","updateTodo","id","put","deleteTodo","delete"],"sources":["C:/Users/yahya/OneDrive/Masaüstü/Intern-Project-Todo-app/frontend/src/components/services/todoService.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { getCurrentUser } from './authService';\r\n\r\nconst API_URL = 'http://localhost:3000/todo';\r\n\r\nconst authHeader = () => {\r\n  const user = getCurrentUser();\r\n  if (user && user.accessToken) {\r\n    return { Authorization: 'Bearer ' + user.accessToken };\r\n  } else {\r\n    return {};\r\n  }\r\n};\r\n\r\ninterface TodoData {\r\n  userId: string;\r\n  id?: string; // id is optional for create operation\r\n  text: string;\r\n  isCompleted: boolean;\r\n  expireDate?: string; // expireDate is optional for update operation\r\n}\r\n\r\nexport const createTodo = async (todo: TodoData) => {\r\n  return axios.post(API_URL, todo, { headers: authHeader() });\r\n};\r\n\r\nexport const getTodos = async (userId: string) => {\r\n  return axios.get(`${API_URL}?userId=${userId}`, { headers: authHeader() });\r\n};\r\n\r\nexport const updateTodo = async (id: string, todo: TodoData) => {\r\n  return axios.put(`${API_URL}/${id}`, todo, { headers: authHeader() });\r\n};\r\n\r\nexport const deleteTodo = async (id: string, userId: string) => {\r\n  return axios.delete(`${API_URL}/${id}?userId=${userId}`, { headers: authHeader() });\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,eAAe;AAE9C,MAAMC,OAAO,GAAG,4BAA4B;AAE5C,MAAMC,UAAU,GAAGA,CAAA,KAAM;EACvB,MAAMC,IAAI,GAAGH,cAAc,CAAC,CAAC;EAC7B,IAAIG,IAAI,IAAIA,IAAI,CAACC,WAAW,EAAE;IAC5B,OAAO;MAAEC,aAAa,EAAE,SAAS,GAAGF,IAAI,CAACC;IAAY,CAAC;EACxD,CAAC,MAAM;IACL,OAAO,CAAC,CAAC;EACX;AACF,CAAC;AAUD,OAAO,MAAME,UAAU,GAAG,MAAOC,IAAc,IAAK;EAClD,OAAOR,KAAK,CAACS,IAAI,CAACP,OAAO,EAAEM,IAAI,EAAE;IAAEE,OAAO,EAAEP,UAAU,CAAC;EAAE,CAAC,CAAC;AAC7D,CAAC;AAED,OAAO,MAAMQ,QAAQ,GAAG,MAAOC,MAAc,IAAK;EAChD,OAAOZ,KAAK,CAACa,GAAG,CAAC,GAAGX,OAAO,WAAWU,MAAM,EAAE,EAAE;IAAEF,OAAO,EAAEP,UAAU,CAAC;EAAE,CAAC,CAAC;AAC5E,CAAC;AAED,OAAO,MAAMW,UAAU,GAAG,MAAAA,CAAOC,EAAU,EAAEP,IAAc,KAAK;EAC9D,OAAOR,KAAK,CAACgB,GAAG,CAAC,GAAGd,OAAO,IAAIa,EAAE,EAAE,EAAEP,IAAI,EAAE;IAAEE,OAAO,EAAEP,UAAU,CAAC;EAAE,CAAC,CAAC;AACvE,CAAC;AAED,OAAO,MAAMc,UAAU,GAAG,MAAAA,CAAOF,EAAU,EAAEH,MAAc,KAAK;EAC9D,OAAOZ,KAAK,CAACkB,MAAM,CAAC,GAAGhB,OAAO,IAAIa,EAAE,WAAWH,MAAM,EAAE,EAAE;IAAEF,OAAO,EAAEP,UAAU,CAAC;EAAE,CAAC,CAAC;AACrF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}